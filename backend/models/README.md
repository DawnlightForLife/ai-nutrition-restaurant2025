# 智能营养餐厅系统 - 数据库模型说明

## 文件结构

* `index.js` - 模型导出入口，统一导出所有模型
* `modelFactory.js` - 模型工厂，负责创建和管理Mongoose模型
* `modelRegistrar.js` - 模型注册器，提供统一的模型注册接口
* `MODEL_FREEZE_DOC.md` - 模型冻结文档，详细说明模型设计和约束

## 模型冻结说明

本目录包含智能营养餐厅系统的数据库模型定义。从`2025-05-17`起，核心模型结构已经冻结，详见`MODEL_FREEZE_DOC.md`文件。

### 冻结范围

* 核心架构和设计
* 目录结构
* 主要模型之间的依赖关系
* 核心模型的主要字段结构

### 模型更新规则

1. **不得修改** 已冻结的核心架构和接口
2. **不得更改** 模型的目录结构和主要关系
3. **可以扩展** 现有模型的非关键字段
4. **可以优化** 索引配置和缓存策略
5. **添加新模型** 需按照现有架构和命名规范进行

## 开发指南

开发新功能时，请先阅读`MODEL_FREEZE_DOC.md`文件，了解现有模型结构和约束，确保新代码符合既定设计原则。

## 性能注意事项

* 使用`modelRegistrar`注册模型时，合理配置索引
* 对于查询频繁的模型，考虑启用缓存
* 避免跨分片复杂查询
* 处理敏感数据时注意数据保护 